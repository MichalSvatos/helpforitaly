{"version":3,"sources":["src/js/script.js"],"names":["ajax_get","url","callback","xmlhttp","XMLHttpRequest","onreadystatechange","readyState","status","data","JSON","parse","responseText","err","open","send","locations","html","finalHtml","i","location","hasLocationGroup","find","o","name","index","findIndex","x","locationObj","push","length","document","getElementById","innerHTML","links"],"mappings":"AAAA;AACA;AACA;AACA;AAEA,SAASA,QAAT,CAAkBC,GAAlB,EAAuBC,QAAvB,EAAiC;AAChC,MAAIC,OAAO,GAAG,IAAIC,cAAJ,EAAd;;AAEAD,EAAAA,OAAO,CAACE,kBAAR,GAA6B,YAAW;AACvC,QAAIF,OAAO,CAACG,UAAR,IAAsB,CAAtB,IAA2BH,OAAO,CAACI,MAAR,IAAkB,GAAjD,EAAsD;AACrD,UAAI;AACH,YAAIC,IAAI,GAAGC,IAAI,CAACC,KAAL,CAAWP,OAAO,CAACQ,YAAnB,CAAX;AAEA,OAHD,CAGE,OAAMC,GAAN,EAAW;AACZ;AAEA;;AACDV,MAAAA,QAAQ,CAACM,IAAD,CAAR;AACA;AACD,GAXD;;AAaAL,EAAAA,OAAO,CAACU,IAAR,CAAa,KAAb,EAAoBZ,GAApB,EAAyB,IAAzB;AACAE,EAAAA,OAAO,CAACW,IAAR;AACA;;AAEDd,QAAQ,CAAC,wBAAD,EAA2B,UAASQ,IAAT,EAAe;AACjD,MAAIO,SAAS,GAAG,EAAhB;AACA,MAAIC,IAAI,GAAG,EAAX;AACA,MAAIC,SAAS,GAAG,EAAhB,CAHiD,CAKjD;;AALiD,6BAMxCC,CANwC;AAQhD,QAAIC,QAAQ,GAAGX,IAAI,CAAC,cAAD,CAAJ,CAAqBU,CAArB,EAAwB,UAAxB,CAAf;AACA,QAAIE,gBAAgB,GAAGL,SAAS,CAACM,IAAV,CAAe,UAAAC,CAAC;AAAA,aAAIA,CAAC,CAACC,IAAF,KAAWJ,QAAf;AAAA,KAAhB,CAAvB,CATgD,CAUhD;;AAEA,QAAIH,IAAI,uBAAgBR,IAAI,CAAC,cAAD,CAAJ,CAAqBU,CAArB,EAAwB,KAAxB,CAAhB,8HAC8BV,IAAI,CAAC,cAAD,CAAJ,CAAqBU,CAArB,EAAwB,MAAxB,CAD9B,iEAE4BV,IAAI,CAAC,cAAD,CAAJ,CAAqBU,CAArB,EAAwB,KAAxB,CAF5B,kEAG6BV,IAAI,CAAC,cAAD,CAAJ,CAAqBU,CAArB,EAAwB,MAAxB,CAH7B,uIAAR;;AASA,QAAIE,gBAAJ,EAAsB;AACrB,UAAII,KAAK,GAAGT,SAAS,CAACU,SAAV,CAAoB,UAAAC,CAAC;AAAA,eAAIA,CAAC,CAACH,IAAF,KAAWJ,QAAf;AAAA,OAArB,CAAZ;AACAJ,MAAAA,SAAS,CAACS,KAAD,CAAT,CAAiBR,IAAjB,IAAyBA,IAAzB;AAEA,KAJD,MAIO;AACN,UAAIW,WAAW,GAAG;AACjBJ,QAAAA,IAAI,EAAGJ,QADU;AAEjBH,QAAAA,IAAI,EAAGA;AAFU,OAAlB;AAKAD,MAAAA,SAAS,CAACa,IAAV,CAAeD,WAAf;AACA;AAhC+C;;AAMjD,OAAK,IAAIT,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGV,IAAI,CAAC,cAAD,CAAJ,CAAqBqB,MAAzC,EAAiDX,CAAC,EAAlD,EAAsD;AAAA,UAA7CA,CAA6C;AA2BrD;;AAED,OAAK,IAAIA,EAAC,GAAG,CAAb,EAAgBA,EAAC,GAAGH,SAAS,CAACc,MAA9B,EAAsCX,EAAC,EAAvC,EAA2C;AAC1C,QAAIK,IAAI,GAAGR,SAAS,CAACG,EAAD,CAAT,CAAaK,IAAxB;AACA,QAAIP,KAAI,GAAGD,SAAS,CAACG,EAAD,CAAT,CAAaF,IAAxB;AAEAC,IAAAA,SAAS,0GACoCM,IADpC,6EAGsCP,KAHtC,6BAAT;AAKA;;AAEDc,EAAAA,QAAQ,CAACC,cAAT,CAAwB,cAAxB,EAAwCC,SAAxC,GAAoDf,SAApD;AAEA,CAhDO,CAAR;AAmDAjB,QAAQ,CAAC,iBAAD,EAAoB,UAAUQ,IAAV,EAAgB;AAC3C,MAAIyB,KAAK,GAAG,EAAZ;;AAEA,OAAK,IAAIf,CAAC,GAAC,CAAX,EAAcA,CAAC,GAAGV,IAAI,CAAC,OAAD,CAAJ,CAAcqB,MAAhC,EAAwCX,CAAC,EAAzC,EAA6C;AAC5Ce,IAAAA,KAAK,4BAAoBzB,IAAI,CAAC,OAAD,CAAJ,CAAcU,CAAd,CAApB,mDAAwEV,IAAI,CAAC,OAAD,CAAJ,CAAcU,CAAd,CAAxE,cAAL;AACA;;AAEDY,EAAAA,QAAQ,CAACC,cAAT,CAAwB,OAAxB,EAAiCC,SAAjC,GAA6CC,KAA7C;AACA,CARO,CAAR","file":"script.js","sourceRoot":"..","sourcesContent":["// Ajax request for JSON data with vanilla JavaScript\n// https://code-maven.com/ajax-request-for-json-data\n// by Gabor Szabo\n// edited\n\nfunction ajax_get(url, callback) {\n\tvar xmlhttp = new XMLHttpRequest();\n\n\txmlhttp.onreadystatechange = function() {\n\t\tif (xmlhttp.readyState == 4 && xmlhttp.status == 200) {\n\t\t\ttry {\n\t\t\t\tvar data = JSON.parse(xmlhttp.responseText);\n\n\t\t\t} catch(err) {\n\t\t\t\treturn;\n\n\t\t\t}\n\t\t\tcallback(data);\n\t\t}\n\t};\n\n\txmlhttp.open(\"GET\", url, true);\n\txmlhttp.send();\n}\n\najax_get('data/institutions.json', function(data) {\n\tlet locations = [];\n\tlet html = '';\n\tlet finalHtml = '';\n\n\t// ... with the help from Petr Kinc :)\n\tfor (let i = 0; i < data['institutions'].length; i++) {\n\n\t\tlet location = data['institutions'][i][\"location\"];\n\t\tlet hasLocationGroup = locations.find(o => o.name === location);\n\t\t// let payments = data['institutions'][i][\"payment\"];\n\n\t\tlet html =  `<a href=\"${data['institutions'][i][\"url\"]}\" target=\"_blank\" rel=\"noopener\" class=\"institution__item\">\n\t\t\t\t\t<span class=\"institution__title\">${data['institutions'][i][\"name\"]}</span>\n\t\t\t\t\t<span class=\"institution__url\">${data['institutions'][i][\"url\"]}</span>\n\t\t\t\t\t<span class=\"institution__desc\">${data['institutions'][i][\"desc\"]}</span>\n\t\t\t\t\t<span class=\"institution__pay\">\n\t\t\t\t\t\t<span class=\"payment\"></span>\n\t\t\t\t\t</span>\n\t\t\t\t</a>`;\n\n\t\tif (hasLocationGroup) {\n\t\t\tlet index = locations.findIndex(x => x.name === location);\n\t\t\tlocations[index].html += html;\n\n\t\t} else {\n\t\t\tlet locationObj = {\n\t\t\t\tname : location,\n\t\t\t\thtml : html\n\t\t\t};\n\n\t\t\tlocations.push(locationObj);\n\t\t}\n\t}\n\n\tfor (let i = 0; i < locations.length; i++) {\n\t\tlet name = locations[i].name;\n\t\tlet html = locations[i].html;\n\n\t\tfinalHtml += `<div class=\"instutitions__section\">\n\t\t\t\t\t\t<h4 class=\"institutions__region-title\">${name}</h4>\n\n\t\t\t\t\t\t<div class=\"institution__region-wrapper\">${html}</div>\n\t\t\t\t\t</div>`;\n\t}\n\n\tdocument.getElementById(\"institutions\").innerHTML = finalHtml;\n\n});\n\n\najax_get('data/links.json', function (data) {\n\tlet links = '';\n\n\tfor (let i=0; i < data['links'].length; i++) {\n\t\tlinks += `<li><a href=\"${data['links'][i]}\" target=\"_blank\" rel=\"noopener\">${data['links'][i]}</a></li>`\n\t}\n\n\tdocument.getElementById(\"links\").innerHTML = links;\n});\n\n"]}